[TOC]



##**基础篇**##



###一.编写我们的第一个C语言程序###



>&emsp;&emsp;大家好,我是绿皮蛙,欢迎大家来到跟着绿皮蛙一起学C语言,在这里,你们将跟着绿皮蛙一起探索C语言的奥秘,领略C语言的魅力.



>&emsp;&emsp;首先我们需要一台个人电脑,其上安装了操作系统,我想大部分同学都会选择安装windows系统,因此本篇教程中大部分内容都将以windows系统为主,我个人是安装了windows 7 64bit来进行我们的开发和讲解,如果是安装了其他的windows系统使用方法也是大同小异的.



>&emsp;&emsp;之后呢我们需要一个好用一点的文本编辑器,至少是自己觉得好用一点的,比较出名的有ultraedit,notepad++,editplus等等,你甚至可以使用windows系统自带的notepad,一个好用的文本编辑器可以帮助我们提高编写代码的效率和准确性,我这里自己使用的是source insight,严格来说这货不是一个文本编辑器,或者说它不只是文本编辑器,但我们暂时权当它是文本编辑器吧,不影响.文本编辑器的作用就是我们使用它来编写我们的代码,代码都是由文本构成,文本的定义我们可以理解成文字,我们在文本编辑器中编写我们的代码就像我们平时使用IM聊天那么自然,我们可以理解为我们通过编写代码(也就是文字,一般都是英语单词)来和电脑在聊天在交流,我们把写好的文本代码通过文件的方式保存在电脑的硬盘中,下次我们可以打开已保存的代码查看或者修改.



>&emsp;&emsp;接下来请大家跟着我一起写我们的第一个程序的代码,也许你并不理解这些文字都代表什么意思,别担心,这只是让你对于编程有一个大概的了解,只需要照着我做就行,你甚至可以直接拷贝粘贴以下代码到你的编辑器中.我们先新建一个文本文件,命名为helloworld.c,一般来说c语言的源代码文件我们都是以点c后缀来命名,这是一个比较标准的规则或者说是一种约定俗成的规矩,但是其实并不是一定需要以点c来作为后缀名称,但是点c后缀在我们使用别的编程辅助工具的时候会有很大的便利性,包括我们的编辑器,这个暂且不表.我们用我们的文本编辑器打开helloworld.c文件并且键入以下文字或者说我们的代码



```cpp



#include "stdio.h"



int main()

{

    printf("hello world");

    getchar();

    return 0;

}



```



>&emsp;&emsp;好的,现在代码我们已经写好了,下面我们需要把代码变成可执行的程序,对于windows系统来说就是我们平时接触最多的exe文件,比如我们的文本编辑器就是一个可执行的程序.要把代码变成可执行程序我们就需要编译器,当然,和编辑器一样又到了我们该做出抉择的时候了,编译器也分比较多的选择,有微软的visual studio中带的cl,还有gcc,还有比较冷门的open watcom的wcc,以及borland的bc和tc等等,我这里演示使用的是visual studio 2003版本中的编译器,原因有很多,我就说一个原因吧,那就是----真TM的好用.文章最后,我会把我使用到的编译器以及环境和代码都上传,如果不方便请在评论里留下邮箱以及你需要的内容,我将打包发出,并不定期更新到百度网盘.当然最方便的方式是自己下载一个安装程序来安装,因为我提供的都是安装后的文件,会有一些配置需要自己手动修改,而安装程序安装后会自动帮你配置好,直接安装就可以使用.



>&emsp;&emsp;下面我们打开命令行,使用win+r快捷键在运行里输入cmd,并且用cd命令切换至helloworld.c这个文件所在目录,或者按住shift键右键单击我们的文件夹,选择在此处打开命令窗口



>![cmd运行界面](http://cs.crystal1113.com/zb_users/upload/2017-11/2017-11-28_16-19-52.png)

>![切换至helloworld.c路径](http://cs.crystal1113.com/zb_users/upload/2017-11/cmd_2017-11-28_16-21-54.png)

>![](http://cs.crystal1113.com/zb_users/upload/2017-11/clover_2017-11-28_17-01-47.png)



>&emsp;&emsp;之后如果你是直接安装的visual studio的话,运行如下命令cl helloworld.c,就会生成一个helloworld.exe文件,我们运行它就会在命令行下输出hello world



>![helloworld](http://cs.crystal1113.com/zb_users/upload/2017-11/cmd_2017-11-28_16-25-54.png)



>&emsp;&emsp;当然如果你不是使用cl来编译,那么请自行百度一下你使用编译器的编译命令,这里我就不赘述了.另外如果你使用的是我直接提供的纯文件的版本,你可能会遇到以下问题.



>1.'cl' 不是内部或外部命令，也不是可运行的程序或批处理程序



>因为在你当前的文件夹下找不到cl这个程序导致的,有两个处理方法,一个是你使用带全部路径的cl命令来编译,比如我这样子使用命令 D:\git\lpw_c\VS7\Bin\Cl.exe helloworld.c

>![](http://cs.crystal1113.com/zb_users/upload/2017-12/cmd_2017-12-01_16-22-51.png)

>另外一种是你把你cl.exe的路径加入到PATH中,具体方法为右键单机我的电脑 选择属性->高级系统设置->环境变量,在系统变量中找到变量名为PATH的,加上你cl程序所在的路径 我的是D:\git\lpw_c\VS7\Bin,并且原来系统中PATH可能已经有一些值了,不同的路径是以分号为分割的,这样我们就可以在任何路径下使用cl.exe了,安装版的visual studio就是因为在安装的过程中帮你把cl的路径加入到path中来,所以你不用做任何操作就可以直接使用cl.exe了.再不清楚的可以参考我的视频哦



>2.当然你可能还会遇到如下错误,如果你使用非安装版的编译器的话,helloworld.c(1) : fatal error C1083: 无法打开包括文件:“stdio.h”: No such file or directory,我这个错误是中文的,因为我这个编译器是中文版的,也许你安装的是英文版的,那报错就是英文的,意思是一样的

>![](http://cs.crystal1113.com/zb_users/upload/2017-12/cmd_2017-12-04_15-11-42.png)

>这个原因是编译器编译的时候找不到stdio.h这个文件,还记得我们的代码吗 第一行就是#include "stdio.h",虽然我们目前还不明白这句语句的含义,但是我们可以猜测到这里用到的stdio.h这个文件,我们可以把stdio.h这个文件拷贝到我们运行时的目录,也就是和helloworld.c同级目录下,这个文件在vs的include文件夹下.当然我们并不推荐这种做法,我们推荐在运行cl编译器的时候显示的指示编译器去哪几个文件夹下寻找用参数-I来实现,具体的命令为D:\git\lpw_c\VS7\Bin\Cl.exe  /I"D:\git\lpw_c\VS7\Include" helloworld.c,当然如果你遇到以上问题在这里可能还会遇到如下错误

>![](http://cs.crystal1113.com/zb_users/upload/2017-12/cmd_2017-12-04_16-39-56.png)

>和之前类似的错误 这次是找不到LIBCMT.lib这个文件,还是一样的处理方法显示的指示编译器去文件夹下寻找,使用命令D:\git\lpw_c\VS7\Bin\Cl.exe /I"D:\git\lpw_c\VS7\Include" helloworld.c /link /libpath:D:\git\lpw_c\VS7\Lib /libpath:D:\git\lpw_c\VS7\WinSDK\Lib

>这个命令比较复杂,至于怎么来的呢,我也就不详细展开了,主要是去这两个路径下寻找文件 D:\git\lpw_c\VS7\Lib,D:\git\lpw_c\VS7\WinSDK\Lib.如果不出意外,此时在helloworld.c下会多出两个文件helloworld.obj和helloworld.exe 而helloworld.exe就是我们编译出来的可执行程序.我们双击helloworld.exe,此时就会出现一个黑色的界面并且显示helloworld

>![](http://cs.crystal1113.com/zb_users/upload/2017-12/helloworld_2017-12-05_14-11-10.png)

>至此,我们已经成功的把我们用文本编辑器写的代码编译成了一个可执行程序,至于更多的关于编译程序cl的命令我们可以通过 cl /? 命令获得帮助,我也会在之后的课程中逐步给大家讲解各种命令

>![](http://cs.crystal1113.com/zb_users/upload/2017-12/cmd_2017-12-05_14-16-21.png)



>&emsp;&emsp;到这里其实这节课的内容也差不多了,由于我个人觉得每次都输入这个长长的命令来编译实在是太麻烦了,所以我个人写了一个批处理来编译,代码如下,各位可以参考一下















>















@echo off















echo vs7 Environment















set vs7=D:\git\lpw_c\VS7















echo vs7 environment is %vs7%















SET PATH=%vs7%\bin;%PATH%















SET INCLUDE=%vs7%\include;%INCLUDE%















SET LIB=%vs7%\Lib;%vs7%\WinSDK\Lib;%LIB%















cl helloworld.c















pause































>&emsp;&emsp;可以复制以上代码保存成.bat文件放在helloworld.c同级目录下双击就可以编译了,相信聪明的你一定可以明白以上代码中的猫腻了,请根据自己编译器的路径不同修改为自己的路径就可以了.















![](http://cs.crystal1113.com/zb_users/upload/2017-12/cmd_2017-12-05_17-02-26.png)















>&emsp;&emsp;好了,啰啰嗦嗦讲了这么多,其实都是废话,哈哈,我们来回顾一下这节课我们主要学习了什么内容,一是我们需要一个好的文本编辑器来写代码,二是我们使用编译器把代码变成可执行程序,希望大家看到这里之后也可以顺利编译你们的第一个c语言程序,如果在过程中遇到什么问题的话,可以在评论区直接留言给我,我会一一回复的,也可以直接发邮件给我说明问题,我的邮箱admin@crystal1113.com,另外,绿皮蛙建立了一个交流群,这里有志同道合的朋友,点击链接加入群【绿皮蛙的世界】：[https://jq.qq.com/?_wv=1027&k=5fQTW1J](https://jq.qq.com/?_wv=1027&k=5fQTW1J)















>&emsp;&emsp;今天就讲到这里吧,最后附上视频讲解的地址































###二.计算机科学中几个基本概念###















>&emsp;&emsp;上节课呢,我们简单的讲了一个程序如何形成,这节课我们主要来了解一下计算机科学中几个比较基本的概念,当然可能这节课会比较难以理解,没关系,先听着,等以后我们深入学习c语言之后再来回顾效果会更好.















####抽象####















   >&emsp;&emsp;抽象的概念再生活中是普遍存在的,简单的来说,抽象是具体的反义词,也就是对一种事物的概括.举个例子,比如我们乘坐出租车的时候,会告诉司机”去飞机场”,那么我们使用的就是抽象的表达方式,而人们在日常生活中,根据生活经验以及人脑的运作,会主动去把我们所表达的”去飞机场”这种抽象的方式具象成某种行为或动作.比如”去飞机场”可能会解析成”顺着这条路经过两个十字路口,再左转,再经过3个十字路口右转…..”等等,如果在继续解析就会变成”踩油门,转方向盘,注意过往车辆”等.而我们在表达的时候仅仅只是需要说一句”去飞机场”,而司机也会明白我们所表达的意思而将我们送到目的地.由此可见,在我们生活中抽象就是一个很重要的东西,它让我们学会站在更高的层次去看待问题,从而将事物的本质表现出来,而隐藏其中的一些细节,它让我们学会更好更有效的使用时间和大脑,它让我们在分析问题时可以抓住本质而忽略其中的一些细节.但是如果底层细节不能完全按照抽象出来的本质来运作,这就需要我们具备把抽象变成具体的能力,用如上例子解释就是如果不能准确的抵达目的地,我们仅仅去分析”去飞机场”这个抽象并不能发现问题,而是要去到底层去分析为什么司机不能把我们送到目的地,司机解析我们这个”去飞机场”这个抽象的时候具体哪里出问题了.















   >&emsp;&emsp;再回到我们计算机学科中,运用抽象,我们可以建造,分析,管理大型而复杂的计算机系统,但如果从细节层面上观察其整体,就会不知所措.因此我们对于计算机系统从硬件到上层的操作系统,软件都一层层做了抽象,让我们不必关注其具体的细节与内部构成,从而只考虑到自己需要了解的部分.当然对于一个优秀计算机科学家,必须要学会解抽象的能力,这样可以更好的解决计算机出现的问题,这也就是绿皮蛙在教学中需要从底层硬件甚至从一个晶体管来讲解计算机系统的原因,这样也可以很好的学会计算机科学以及能让我们更好的了解计算机系统设计中的哲学理念以及计算机系统的优雅层次,这些都是我们伟大的前辈们留给我们的智慧的结晶.















   >&emsp;&emsp;举几个简单的例子, 在处理器里，指令集结构提供了对实际处理器硬件的抽象。使用这个抽象，机器代码程序表现得就好像它是运行在一个一次只执行一条指令的处理器上。底层的硬件比抽象描述的要复杂精细得多，它并行地执行多条指令，但又总是与那个简单有序的模型保持一致。只要执行模型一样，不同的处理器实现也能执行同样的机器代码，而又提供不同的开销和性能。在学习操作系统时，我们介绍了三个抽象：文件是对I/O的抽象，虚拟存储器是对程序存储器的抽象，而进程是对一个正在运行的程序的抽象。















   >&emsp;&emsp;在绿皮蛙的这个教程中,站在一个合适的抽象层面来理解学习计算机是很有必要的,比如我们学习软件编程,那么我们把硬件层抽象,合理的忽略一些细节,可以使我们的学习更有效率.















####软件和硬件####















   >&emsp;&emsp;许多计算机工程师都会声称自己是搞硬件的或者搞软件的.硬件通常是指一个物理的计算机以及和它相关的方方面面,而软件则通常指程序,如操作系统,数据库管理系统等,他们的这种说法通常意思是他们对其中某一方面相当精通,而对另一方面知之甚少.这听起来好像在软件和硬件之间有一堵很高的墙,硬件是描述计算机是如何工作的,而软件则是如何来使用这些硬件的,你要做的就是选择站在墙的哪一边.















   >&emsp;&emsp;我的想法是,在你刚接触和学习计算机的时候,尽量不要有这种观点.因为在我看来硬件和软件只是计算机系统中两个组成部分的名称而已,对于系统设计者而言,具体将计算机的某个功能划分给哪一个部分来实现,以及它们之间如何协同工作,原则只有一个,那就是让计算机工作的更棒,而不是刻意区分它们,没有什么功能是只有软件才能实现的,软件可以实现的功能都可以通过硬件来实现.















   >&emsp;&emsp;这里要阐述一个我认为的一个观点,硬件是固化的软件,也就是说硬件是实现特定功能的软件.为什么这么说呢,我们先这么想,软件其实是N条指令组合而成,而我们的硬件CPU是从内存中得到指令并且译码执行的,而从内存中到CPU中是通过总线传递的,准确的说传递的是电信号,那么我们只要通过专门的硬件电路把这N条指令依次或者说看上去是依次的传递给CPU执行这样就形成了硬件而实现的就是我们之前所需要的软件的功能.但这一部分已经固化在电路中了不能修改了,而软件的指令是在内存中的,可以根据需要修改,所以说一个计算机系统的功能由软件还是由硬件来实现,取决于实际的设计,如何让计算机更好的运作,并且还牵扯到制造工艺的进步以及软件技术的发展.















   >&emsp;&emsp;而随着硬件与软件技术的磨合,制造工艺的提升,人们已经在硬件和软件之间找到了一个合适的点,让计算机硬件和软件可以更好的运作,比如为了支持多任务的操作系统,CPU提供了切换任务的指令,更方便了操作系统的编写.另外软件也在不断挖掘硬件的功能,所以软件和硬件是协同一起发展的,硬件的进步可以促使软件的进步,软件的需求也可以促进硬件的发展.















   >&emsp;&emsp;所以说如果你是设计硬件的,如果懂得软件的需求,那么所设计的硬件必然比那些不懂软件的人设计的更快更适合在其之上编写软件.当然反过来你是软件设计的,那么对于硬件的了解可以让你写出速度更快稳定性更高的代码.















   >&emsp;&emsp;也因此绿皮蛙的这篇教程中,除了会有软件的相关部分,还设计到了硬件的相关知识.















####操作系统####















   >&emsp;&emsp;理解操作系统的作用,对于学习计算机技术来讲是非常重要的.操作系统其实就是对于硬件的一个抽象.首先我们要明白操作系统做了什么.















   >&emsp;&emsp;就拿我们的个人电脑来说,简单的说我们的电脑由CPU,内存,硬盘等硬件组成,比如CPU负责运算,键盘鼠标负责输入,显示器负责显示内容,这些硬件都提供了对外的接口,随着硬件标准化的发展,对我们来说可以忽略硬件内部实现细节,对外提供了统一的抽象接口,如果我们更直观的来看待,这个接口就是主板上的插槽,有CPU的插槽,内存的插槽,PCI插槽等等,虽然有些不是都通用的,但是这些硬件和主板组合在一起对于更上层的软件层提供的是统一的抽象接口,比如虽然Intel和AMD的CPU的插槽是不兼容的,但是提供出来的指令集是一样的,所以同一个操作系统可以运行在intel或者amd的系统上.















   >&emsp;&emsp;当然,硬件提供的接口对于我们来说是那么复杂且晦涩,举个例子,CPU要访问硬件,首先CPU是通过导线和硬件连接在一起的,而电气信号是通过导线互相传递的,CPU通过读写I/O端口来和硬件交互,CPU把某个值放到IO端口中,通过导线硬件上的微控制器会收到这个信号并且给出相应的处理并且把结果内容放到IO端口,CPU读取IO端口来获取结果,当然大概是这么个意思,具体的我们在后续的叫程中会着重讲解.这种方式显然很麻烦,我们不知道硬件的处理需要多久才返回并且是不是会出问题,出问题了后续CPU该怎么处理,当然这些麻烦的事情都由我们的操作系统帮我们代劳了.操作系统给我们提供了一种安全的合理的高效的使用硬件的方法,并且给上层的软件提供了抽象接口.















   >&emsp;&emsp;比如对于内存,操作系统抽象了虚拟内存,我们程序只需要访问虚拟内存地址,操作系统会根据映射找到真正的物理内存中的值,也因此对于有限的物理内存,我们可以为每个应用程序分配独立的虚拟内存空间地址并且不会互相影响,甚至操作系统还加入了换页算法,把最近可能不经常使用的内存置换到硬盘中以腾出更多的空间来给正在活动的不同的应用程序使用,当然这些操作系统会根据自己的算法做出可能有效的合理的安排,应用程序是很难人工干预的,应用程序只需要访问自己的虚拟内存地址就行.















   >&emsp;&emsp;比如对于硬盘,把干巴巴的01数据,操作系统有效的组织并且抽象成文件系统以一种便于我们理解和操作的方式提供出来供我们使用















   >&emsp;&emsp;总而言之,理解操作系统的原理对于我们可以编写程序也是有着重要的作用的,因此在学习过程中我们会穿插一些操作系统知识的介绍















####库####















>&emsp;&emsp;在我们使用C语言编写程序的过程中,库是十分常见的概念,它提供了一系列抽象的接口来帮助我们操作我们的计算机.而在C语言中,这种接口的方式我们称为函数,比如我们第一节课讲的printf()这条语句,就是一个函数,它提供的接口的作用就是帮助我们在那个黑色的窗口中打印出我们的"hello world",我们不必关心究竟操作系统是怎么打印这条语句的,也不关心硬件是怎么运作的,我们只要在必要的时候使用printf这个函数就可以了.















>&emsp;&emsp;在我们这个教程中,主要用到的是C语言的标准库,大部分C语言编译器会提供C语言的标准库,我这里的标准库都在D:\git\lpw_c\VS7\Lib,这个路径下.还会使用到的是windows的函数库,在我们用的微软的编译器里也自带了,我这里的路径在D:\git\lpw_c\VS7\WinSDK\Lib下,还会用到其他开发人员开发好的库,那么其实所有的这些库都是开发人员使用C语言或者汇编语言写的,并且用编译器编译成库的方式,并且提供响应的头文件来供我们使用.使用的过程正如我们上一节课的helloworld程序中一样,首先我们需要#include相应的头文件,一般是以点h为后缀,然后再编译的过程中把对应的库加入到编译过程中就行了,具体的我们会在以后的课程中给大家详细分解.因为我们现在刚刚开始学习写C语言,我们会经常使用到这些库提供的接口,因此我们先有个大概的印象,并且使用的时候我们只要会用就行了,不用关心它内部的原理,如果真的有兴趣,我们以后可能再给大家详细讲讲.















>&emsp;&emsp;今天要给大家讲的就这么多,希望大家回去消化消化,如果实在不理解也没关系,只要知道有这么一个概念,在以后的学习过程中我们再来加深理解.































###三.数据和运算###







>&emsp;&emsp;相信大部分同学在刚学习C语言的时候一直会有一个疑问,包括我本人在刚开始学习的时候,其实也有疑问,拿到一个问题的时候,其实我们内心是懵逼的,我们到底用C语言做些什么才可以解决这个问题.其实这是一个普遍的问题,就是无从入手,那么这其实是一个思维转换的问题,我们拿到的问题大部分是通过自然语言来描述的,我们首先要知道计算机能做什么,然后通过计算机的思维来思考这个问题,并且把计算机能做的事情合理的序列化,按照顺序执行,就变成程序了.那么计算机能做什么呢,很显然,其实就是数据的计算和数据的传递.数据的计算应该是我们需要关心的主要问题,数据的传递其实就是CPU操作其他硬件以及硬件间互相交换数据.







>&emsp;&emsp;那么问题其实就变成我们需要知道计算机能做什么运算,怎么让计算机来做相应的运算,这就是我们这节课会讨论的数据和运算.















####整数####







>&emsp;&emsp;说到数据和运算,我们从小就接触过的,我们最开始接触的就是正整数0,1,2,3,4.....这种,那我们也知道,对于计算机设备只有0和1,也就是电流的通断,那么计算机如何来表示这些数字呢.







>&emsp;&emsp;既然单独的01没有什么用,那么我们把01组合起来变成一个整体,比如5个01合起来可以表示2^5的不同的内容(每一位有01两种情况,一共5位,排列组合一下).如果用这个来表示数字,它就可以表示32个不同的数字.我们当然不能表示随便的32个数字,因为我们还要用这些数字来做运算,那么表示什么数字可以很好的进行运算并且可以通过电路来实现呢,这里涉及到很多问题,我们就不讨论了,就直接说结果了.







>&emsp;&emsp;我们平时使用的数字都是10进制的,比如219,14238这种数字,这些都是由0-9来组合而成的,每一位所代表的意思不同,说白了就是每一位在这个数字的大小上起的权重比例不同,我们都知道数字从右到左分别是个,十,百,千,万,十万.....,越是左边,所占的权重越大,10进制的表示法从小到大是0-9这10个数字,如果9再往上,这个位子就需要从0再开始,并且像权重更大的位数加1,这其实就是我们从小做的加法,我只是说的比较晦涩.那么一个数字219,表示的是







$$







219=2\times10^2+1\times10^1+9\times10^0







$$







>&emsp;&emsp;如果我们只有两个数字0和1,那么我们就是二进制计数法,并且位数只有5位,那么我们可以表示的数字的大小是从00000-11111,其中00000就是0,11111我们用上面权重的表示法就为







$$







11111=1\times2^4+1\times2^3+1\times2^2+1\times2^1+1\times2^0=2^5-1=31







$$







>&emsp;&emsp;我们就是可以表示0-31的十进制数,一共32个,与我们之前说的一致.







####变量和内存####



>&emsp;&emsp;我们在使用C语言来控制计算机进行计算的时候,需要先把这些数字放到内存中,而在C语言中我们所能使用的最小位数的数字是由8位组成的.我们把一位的01称之为一个比特(bit),8个比特组合起来我们就叫一个字节(byte),那么16个比特就叫一个字(word)(也可以叫做两个字节),32个比特就叫一个双字(dword),(4个字节我喜欢这么叫).



>&emsp;&emsp;那么在C语言中我们如何把数字放到内存中以及如何用内存中的数字来进行运算呢.我们先了解一下内存,当我们在操作系统上使用内存的时候,内存被抽象成为一段连续的可以放数字的一个字节一个字节的空间,并且会对每个字节进行编号,从0开始依次进行编号,而这些编号我们就叫做内存地址.我们可以想象一下有一个一个小的箱子,这些箱子连续排列在一起,并且每个箱子里可以存一个字节的内容,我们给这些箱子编号,我们知道编号就能往里面放内容或者取内容.



>&emsp;&emsp;但是我们要知道,内存中可不仅仅是只有要进行计算的数字,还存放着具体运算的操作码,总的来说,这两部分构成了我们所谓的机器码,举个不恰当的例子,比如我们把我们的机器码定义为固定的长度,假设我们的CPU只能做加减乘除4个运算,那么我们的操作码可以是两位 00 01 10 11 分别代表加减乘除,如果我们把数字和操作码放到一起,就是一个机器码,比如我们再来一个假设 10010001 00 00101111 这个机器码我们可以表示成10010001+00101111 这两个数字相加,那么这个机器码是存放在内存中的,CPU会从内存中按照一定的规则取到机器码,并通过译码器来解析这个机器码并送到相应的CPU内部的电路中完成运算,比如是加法就会送到加法器中运行得到结果再放到内存中.当然真实的情况远比这个要复杂很多,我只是想让你们知道计算机运行程序的过程中,内存的数据有要进行运算的数字还有要进行什么运算的码.



>&emsp;&emsp;上面的内容就是为了告诉我们,编程过程中我们不能随便往任何一个内存编号中放内容,以免覆盖了已经存在的机器码,所以说在我们用C语言编写程序的时候都有一个变量的含义,任何一个变量都有一个数据类型,数据类型决定了变量所占的空间.首先我们先决定好我们要用的数剧的空间大小,并且给它一个名字,当我们往这个变量里放数据的时候,系统会根据数据所占的空间大小给它找到一个合适的内存区域并且绑定,就是说我们使用变量就跟使用内存地址访问是一样的,并且这个变量不管它的数据的值怎么变化,但是它在内存中的位置是不会变化了.



>&emsp;&emsp;我们在编写C语言的过程中如何使用这种机制呢.其实很简单,我们首先告诉编译器有这么一个变量(声明一个变量?),之后我们就可以随意使用它,不管是改变它的值还是读取它的值.用法就是 

>数据类型 变量名; 

当然对于同样的数据类型的变量可以同时声明

数据类型 变量名1,变量名2,....变量名n;

当然我本人是不喜欢同时声明这种方式的,具体原因之后再分析.

数据类型决定了你声明的变量占用的内存空间大小,变量名就是你使用这块内存的一个别名,变量名的使用方法有点类似于数学中函数的变量的感觉.好了,不废话了,我们来看看实际的使用吧,C语言内建了几个数据类型对应不同的内存大小,我个人比较喜欢用的是char(1个字节),short(两个字节),int(4个字节).



```cpp

#include "stdio.h"

int main()
{
	char c;
	short s=100;
	int a,b;
	int sum = 0;	

	a=20;
	b=5;
	sum=a+b;
	
	printf("c is %d,s is %d\n",c,s);
	printf("a is %d,b is %d\n",a,b);
	printf("sum=%d,a-b=%d",sum,a-b);

	return 0;

}



```

>&emsp;&emsp;我们把代码编译一下,这个时候我的编译器报了一个警告信息,使用了未初始化的变量c,因为是这样的,我们声明了一个变量c,但我们没有给它一个值,c语言中用=号来赋予变量一个数值,简称赋值.但是我们在接下来的代码中却使用了c这个变量,此时这个变量的值是不确定的,在这里我运行的结果是c is 1,根据不同的编译器,不同的编译选项这个值是不可预料的,是0,是1,或者可能是任何数.因此我们在写代码的过程中,对于一个变量在使用之前必须给它赋初始值,这样会减少代码出错的可能性,而不是我们心里默认它是1或者0,万一不是呢,对吧.

>&emsp;&emsp;好,接下来我们不必理会这个警告,编译出可执行程序之后我们运行一下,得到如下结果



![](http://cs.crystal1113.com/zb_users/upload/2018-03/cmd_2018-03-08_15-56-06.png)



>&emsp;&emsp;纵观上面的代码,我们用到了我们数学中的=,+和-,其用法和数学中几乎一样或者说至少含义是一样的.另外我们还用到了以前用过的printf语句来打印,这里有一个新的用法,printf可以打印变量的值,在两个双引号中间用%d表示的地方,依次把后面的变量的值按整数输出.比如这一条语句printf("sum=%d,a-b=%d",sum,a-b);printf是把引号中的句子输出,当遇到%的时候,根据输出形式的不同来输出值,这里%d就是按整数形式来输出,如果有多个%,就按顺序输出,这里第一个%d用sum的值来代替也就是25,第二个%d用a-b的结果来代替也就是15.这里说明不只是变量可以使用,用一个算数的式子也可以使用,并不一定要把算术的结果赋给一个变量才能使用.



####调试####

>&emsp;&emsp;之前我们学会了用printf来打印变量的值,但这并不是一个很好的一个方法.我们写程序的时候离不开调试,调试的意思是我们在运行我们编写好的程序的时候和我们想法出现不同的情况,我们可以把程序终断并且一条语句一条语句的执行程序,在这个过程中我们可以观察程序运行的情况并且观察运行时每个变量的值.

>&emsp;&emsp;那么如果要进行调试,我们就得使用调试工具,如果你使用的是vs这种IDE,那调试工具本身就集成在里面,你只要使用vs中的菜单选项或者按钮来进行调试就行了.由于我们是在命令行下用编译器命令来编译的,那么我们就需要使用一个调试工具,调试工具有很多,我这里使用的是windbg,我推荐的一种做法是调试器最好和编译器对应,编译器会生成专门用于调试的调试信息并且保存成文件供调试器使用,当然在windows下我们一般没有这个烦恼,当然都是使用微软的东西啦,基本都是兼容的.

>&emsp;&emsp;首先我们增加我们的编译命令来生成调试信息

cl /ZI data_integer.c /link /pdb:"data_integer.pdb"

我们现在不用管这些编译的参数,我们只要知道这样可以生成调试信息就可以了,在后面的学习过程中我会专门有一节课来讲每个编译命令的作用,好,这样编译后我们就会在我们源代码的同级目录下生成调试信息了,之后我们打开windbg,文末附上我自己的windbg下载地址.